(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["employee/invite/invite"],{"11c0":function(t,e,i){"use strict";i.r(e);var n=i("eb21"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"293a":function(t,e,i){"use strict";(function(t){i("1cde");n(i("66fd"));var e=n(i("be83"));function n(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=i,t(e.default)}).call(this,i("543d")["createPage"])},5899:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=(t._self._c,t.$util.img(t.invite_img)),n=t.__map(t.inviteList,(function(e,i){var n=t.__get_orig(e),a=t._f("filterMobile")(e.mobile);return{$orig:n,f0:a}}));t.$mp.data=Object.assign({},{$root:{g0:i,l0:n}})},o=[]},"698c":function(t,e,i){},be83:function(t,e,i){"use strict";i.r(e);var n=i("5899"),a=i("11c0");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("cb09");var s,u=i("f0c5"),c=Object(u["a"])(a["default"],n["b"],n["c"],!1,null,"6f0c8ed7",null,!1,n["a"],s);e["default"]=c.exports},cb09:function(t,e,i){"use strict";var n=i("698c"),a=i.n(n);a.a},eb21:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{title:getApp().globalData.title,invite_img:"",inviteList:[],page:1,pageSize:15,total:1}},filters:{filterMobile:function(t){return t?t.substring(0,3)+"****"+t.substring(7):""}},onLoad:function(){this.getInviteImage(),this.getInviteRecord()},onReachBottom:function(){this.page>this.total||(this.page++,this.getInviteRecord())},methods:{getInviteImage:function(){var t=this;this.$api.sendRequest({url:"/api/index.user/qrCode",data:{},success:function(e){1==e.code&&e.data?t.invite_img=e.data.qr_code:t.$util.showToast({title:e.msg})}})},getInviteRecord:function(){var t=this;this.$api.sendRequest({url:"/api/index.user/bindSaleLog",data:{page:this.page,number:this.pageSize},success:function(e){1==e.code&&(1==t.page?t.inviteList=e.data.list:t.inviteList=t.inviteList.concat(e.data.list),t.total=e.data.page_count)}})},saveImage:function(){var e=this;t.downloadFile({url:this.$util.img(this.invite_img),success:function(i){200===i.statusCode?t.saveImageToPhotosAlbum({filePath:i.tempFilePath,success:function(){e.$util.showToast({title:"保存成功"})},fail:function(t){e.$util.showToast({title:"保存失败，请稍后重试"})}}):e.$util.showToast({title:"下载失败"})},fail:function(t){e.$util.showToast({title:"下载失败"})}})},saveImageBase64:function(){var e=this.invite_img.replace(/^data:image\/\w+;base64,/,""),i=wx.env.USER_DATA_PATH+"/invite_qrcode.png";t.getFileSystemManager().writeFile({filePath:i,data:e,encoding:"base64",success:function(e){t.saveImageToPhotosAlbum({filePath:i,success:function(e){t.showToast({title:"保存成功，请从相册选择再分享",icon:"none",duration:5e3})},fail:function(t){}})},fail:function(t){}})}},onShareAppMessage:function(e){var i="/pages/index/index",n=0;return t.getStorageSync("token")&&(n=t.getStorageSync("userInfo").id),i+="?saleid="+n,{title:"快来加入我的团队吧",path:i,success:function(t){},fail:function(t){}}}};e.default=i}).call(this,i("543d")["default"])}},[["293a","common/runtime","common/vendor"]]]);