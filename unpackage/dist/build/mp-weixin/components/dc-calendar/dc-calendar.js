(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/dc-calendar/dc-calendar"],{"04aa":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("c9b6"));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){i.e("components/time-range/time-range").then(function(){return resolve(i("2a51"))}.bind(null,i)).catch(i.oe)},r={components:{timeRange:s},props:{startDate:{type:String,default:""},endDate:{type:String,default:""},limit:{type:String|Number,default:6},height:{type:String|Number,default:600},bottom1:{type:String|Number,default:0},yimanArray:{type:Array,default:function(){return[]}}},data:function(){return{year:"",month:"",week:"",day:"",today:"",todayTimeString:"",startTimeString:"",endTimeString:"",startday0:"",startweek0:"",endday0:"",endweek0:"",dayNum1:1,weekList1:["周日","周一","周二","周三","周四","周五","周六"],timeArr:[],dateList:[],weekList:[{title:"日",index:0},{title:"一",index:1},{title:"二",index:2},{title:"三",index:3},{title:"四",index:4},{title:"五",index:5},{title:"六",index:6}],animationData:{},animation:{},speck:300,seleyiman:0,seleStaAend:0,seleSta:0,fwArray:[],startindex1:0,startindex2:0,endindex1:0,endindex2:0,startAndend:0,currtag:0,scrollTop:0,showRange:!1,timeRange:{time:"",timeValue:"",startTime:"",endTime:""}}},mounted:function(){this.init();var e=t.createAnimation({duration:this.speck,timingFunction:"ease"});if(this.animation=e,this.showCalendar(),console.log(this.yimanArray),t.getStorageSync("pickupdate")){var i=t.getStorageSync("pickupdate");this.timeRange.time="".concat(i.startTime,"-").concat(i.endTime),this.timeRange.startTime=i.startTime,this.timeRange.endTime=i.endTime;var n=i.startTime.split(":"),a=i.endTime.split(":");this.timeRange.timeValue="".concat(n[0],"时").concat(n[1],"分-").concat(a[0],"时").concat(a[1],"分")}},beforeCreate:function(){var e=this;setTimeout((function(){var i="#yearAndMonth"+e.currtag;console.log(i);var n=t.createSelectorQuery().in(e);n.select(i).boundingClientRect(),n.exec((function(t){console.log("当前位置",t),e.scrollTop=t[0].top-200;t[0].top}))}),500)},methods:{cancelRange:function(t){this.showRange=!1,this.timeRange=t},confirmRange:function(t){console.log("88",t),this.showRange=!1,this.timeRange=t},init:function(){this.ajaxDate(),this.dealStarAndEndDay(),this.dealman2(),this.dealDateList();var t=n.default.getAllDate(this.startDate,this.endDate);console.log("---------",t);var e=this.dealman3(t);1==e&&(this.startTimeString="",this.endTimeString="")},hideCalendar:function(){this.animation.bottom(-this.height).step(),this.animationData=this.animation.export()},showCalendar:function(){this.animation.bottom(0).step(),this.animationData=this.animation.export()},cancel:function(){var t=this;console.log("隐藏"),this.hideCalendar(),setTimeout((function(){t.$emit("cancel")}),this.speck)},reset:function(){this.timeArr=new Array,this.startAndend=0,this.startTimeString="",this.endTimeString=""},confirmChoose:function(){var e=/\S/;if(e.test(this.startTimeString)&&e.test(this.endTimeString)){var i=this.dealDate(this.startTimeString),n=this.dealDate(this.endTimeString),a=this.dealDate1(this.startTimeString),s=this.dealDate1(this.endTimeString),r=(this.endTimeString-this.startTimeString)/1e3/3600/24,o=this.dealman(i),d=this.dealman(n);if(1==o&&1==d)return void t.showToast({title:"你选择了的房间已满 请重新选择",icon:"none"});if(r<1)return void t.showToast({title:"请选择离店日期",icon:"none"});this.$emit("selectDate",{startDate:i,endDate:n,startDate1:a,endDate1:s,dayNum:r,time:this.timeRange.time,timeValue:this.timeRange.timeValue,startTime:this.timeRange.startTime,endTime:this.timeRange.endTime})}else t.showModal({title:"提示",content:"尚未选择时间"})},chooseDate:function(e,i,n,a,s,r){var o="".concat(e,"-").concat(i,"-").concat(n.num),d=new Date(o).getTime();this.seleyiman=1,this.seleSta=1;var h=n.status;if(h=this.dealman1(d,h),""==this.startTimeString&&(h=n.status),1==h)return t.showToast({title:"不能选择已住满的房间",icon:"none"}),void(this.seleyiman=0);if(this.seleyiman=0,d>=this.todayTimeString){if(this.timeArr.length>=2){var m={time:d,index1:s,index2:r};this.timeArr.shift(0,1),this.timeArr.push(m);var c=this.timeArr[0],l=this.timeArr[1];c.time<l.time?(this.startTimeString=c.time,this.endTimeString=l.time,console.log(1),this.startindex1=c.index1,this.startindex2=c.index2,this.endindex1=l.index1,this.endindex2=l.index2):c.time>l.time?(this.startTimeString=l.time,this.endTimeString=c.time,console.log(2),this.startindex1=l.index1,this.startindex2=l.index2,this.endindex1=c.index1,this.endindex2=c.index2):c.time==l.time&&(console.log(3),this.startTimeString=c.time,this.endTimeString=l.time,this.startindex1=s,this.startindex2=r,this.endindex1=s,this.endindex2=r)}else if(1===this.timeArr.length){var u={time:d,index1:s,index2:r};this.timeArr.push(u),this.startTimeString=this.timeArr[0].time;var g=this.timeArr[0],f=this.timeArr[1];g.time<f.time?(this.startTimeString=g.time,this.endTimeString=f.time,console.log(4),this.startindex1=g.index1,this.startindex2=g.index2,this.endindex1=f.index1,this.endindex2=f.index2):g.time>f.time?(this.startTimeString=f.time,this.endTimeString=g.time,console.log(5),this.endindex1=g.index1,this.endindex2=g.index2,this.startindex1=g.index1,this.startindex2=g.index2):g.time==f.time&&(console.log(6),this.startTimeString=g.time,this.endTimeString=f.time,this.startindex1=s,this.startindex2=r,this.endindex1=s,this.endindex2=r)}else{var T={time:d,index1:s,index2:r};this.timeArr.push(T),this.startTimeString=this.timeArr[0].time,this.endTimeString=this.timeArr[0].time,this.startindex1=s,this.startindex2=r,this.endindex1=s,this.endindex2=r}if(console.log("开始位置",this.startindex1,this.startindex2),console.log("结束位置",this.endindex1,this.endindex2),this.startindex1==this.endindex1){var S=a.slice(this.startindex2,this.endindex2+1);console.log(S),this.dealshow1(e,i,d,S,s,r)}else{console.log(7);for(var x=this.startindex1;x<=this.endindex1;x++){var y=this.dateList[x];this.dealshow1(y.year,y.month,d,y.dayArray,s,r)}}this.dealshow(),console.log("timeArr",o)}else t.showToast({title:"选择日期不能小于当天！",icon:"none"})},dealTimeString:function(t){return new Date(t).getTime()},dealDateList:function(){var t,e=this.startDate.replace("/","-"),i=new Date(e).getFullYear(),n=new Date(e).getMonth()+1;n=n<10?"0"+n:n;var a="".concat(i,"-").concat(n);console.log("年份",a),t=this.today;for(var s=new Date(t).getFullYear(),r=new Date(t).getMonth(),o="".concat(s,"-").concat(r),d=0;d<this.limit;d++)r++,r>12&&(r-=12,s+=1),r=r<10?"0"+r:r,o="".concat(s,"-").concat(r),o==a&&(this.currtag=d,console.log("年份",this.currtag)),this.dateList.push({year:s,month:r,dayArray:this.dealDateArray(s,r)})},dealDateList1:function(){var t;t="2022-10-08",console.log(t);for(var e=new Date(t).getFullYear(),i=new Date(t).getMonth()+3,n=3;n<this.limit;n++)i++,i>12&&(i-=12,e+=1),i=i<10?"0"+i:i,this.dateList.push({year:e,month:i,dayArray:this.dealDateArray(e,i)})},dealStarAndEndDay:function(){var t,e;t=!!this.startDate&&new Date(this.startDate.replace("/","-")).getTime(),e=!!this.endDate&&new Date(this.endDate.replace("/","-")).getTime(),this.startTimeString=t,this.endTimeString=e,this.dealshow()},ajaxDate:function(){var t=new Date,e=t.getFullYear(),i=t.getMonth()+1,n=t.getDay(),a=t.getDate();this.year=e,this.month=i,this.week=n,this.day=a,i=i<10?"0"+i:i,a=a<10?"0"+a:a,this.today="".concat(e,"-").concat(i,"-").concat(a),this.todayTimeString=new Date("".concat(e,"-").concat(i,"-").concat(a)).getTime()},dealDateArray:function(t,e){var i,n,a=[1,3,5,7,8,10,12],s=new Array;i=t%100!=0&&t%4==0&&t%4!=0||t%100==0&&t%400==0?0:1,n=a.includes(parseInt(e))?31:2==e?0==i?29:28:30;for(var r=new Date("".concat(t,"-").concat(e)).getDay(),o=0;o<r;o++){var d={num:"",status:0};s.unshift(d)}for(var h=1;h<=n;h++){h=h<10?"0"+h:h;var m="".concat(t,"-").concat(e,"-").concat(h),c=this.dealman(m),l={num:h,status:c};s.push(l)}return s},dealClassStyle:function(t,e,i){if(i.num){var n="".concat(t,"-").concat(e,"-").concat(i.num),a=new Date(n).getTime(),s=this.todayTimeString,r=i.status;if(1==this.seleSta&&(r=this.dealman1(a,r)),1==r)return 1==this.seleStaAend?"overdue":a==this.startTimeString?"startDate":a==this.endTimeString?"endDate":"overdue";if(a==this.startTimeString)return"startDate";if(a==this.endTimeString)return"endDate";if(a>this.startTimeString&&a<this.endTimeString)return"scope";if(a==s)return"toDay";if(a<s)return"overdue"}},dealDate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=new Date(t),i=e.getFullYear(),n=e.getMonth()+1,a=e.getDate();return n=n<10?"0"+n:n,a=a<10?"0"+a:a,"".concat(i,"-").concat(n,"-").concat(a)},dealDate1:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=new Date(t),i=(e.getFullYear(),e.getMonth()+1),n=e.getDate();return i=i<10?"0"+i:i,n=n<10?"0"+n:n,"".concat(i,"月").concat(n,"日")},dealman:function(e){var i=t.getStorageSync("满房日期显示");if(1==i)for(var n=this.yimanArray,a=0;a<n.length;a++){var s=n[a];if(s==e){var r=1;return 1==this.seleSta&&(r=this.dealman1(e,r)),r}}},dealman1:function(t,e){var i=e,n=new Date(t).getTime(),a=this.endTimeString;return 1==this.seleyiman&&(a=n),n==a&&a>this.startTimeString&&(i=0),i},dealman2:function(e){var i=t.getStorageSync("满房日期显示");if(1==i){for(var n=0,a=0,s=this.yimanArray,r=0;r<s.length;r++){var o=s[r],d=new Date(o).getTime();d==this.startTimeString&&(n=1),d==this.endTimeString&&(a=1)}1==n&&1==a&&(this.seleStaAend=1)}},dealman3:function(e){var i=t.getStorageSync("满房日期显示");if(1==i)for(var n=this.yimanArray,a=e,s=0;s<n.length;s++)for(var r=n[s],o=0;o<a.length;o++){var d=a[o];if(d==r)return d==this.endDate?0:1}},dealshow:function(){this.startday0=this.dealDate1(this.startTimeString),this.endday0=this.dealDate1(this.endTimeString),this.dayNum1=(this.endTimeString-this.startTimeString)/1e3/3600/24;var t=new Date(this.dealDate(this.startTimeString)),e=new Date(this.dealDate(this.endTimeString)),i=t.getDay(),n=e.getDay();this.startweek0=this.weekList1[i],this.endweek0=this.weekList1[n]},dealshow1:function(t,e,i,n,a,s){for(var r=0,o=0;o<n.length;o++){var d=n[o],h="".concat(t,"-").concat(e,"-").concat(d.num),m=new Date(h).getTime(),c=d.status;m>this.startTimeString&&m<this.endTimeString&&1==c&&(r=1),m==this.startTimeString&&1==c&&(r=1)}if(1==r){this.timeArr=[];var l={time:i,index1:a,index2:s};this.timeArr.push(l),this.timeArr.push(l),this.startTimeString=i,this.endTimeString=i,this.startindex1=a,this.startindex2=s,this.endindex1=a,this.endindex2=s}}}};e.default=r}).call(this,i("543d")["default"])},"0f59":function(t,e,i){"use strict";i.r(e);var n=i("04aa"),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},"12bb":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n}));var n={uIcon:function(){return Promise.all([i.e("common/vendor"),i.e("node-modules/uview-ui/components/u-icon/u-icon")]).then(i.bind(null,"911c"))},timeRange:function(){return i.e("components/time-range/time-range").then(i.bind(null,"2a51"))}},a=function(){var t=this,e=t.$createElement,i=(t._self._c,t.__map(t.dateList,(function(e,i){var n=t.__get_orig(e),a=t.__map(e.dayArray,(function(i,n){var a=t.__get_orig(i),s=t.dealClassStyle(e.year,e.month,i),r=t.dealTimeString(e.year+"-"+e.month+"-"+i.num),o=t.dealTimeString(e.year+"-"+e.month+"-"+i.num),d=t.dealTimeString(e.year+"-"+e.month+"-"+i.num)==t.startTimeString&&1==i.status,h=d?null:t.dealTimeString(e.year+"-"+e.month+"-"+i.num)==t.endTimeString&&1==i.status;return{$orig:a,m0:s,m1:r,m2:o,m3:d,m4:h}}));return{$orig:n,l0:a}})));t._isMounted||(t.e0=function(e){t.showRange=!0}),t.$mp.data=Object.assign({},{$root:{l1:i}})},s=[]},"403a":function(t,e,i){},"5a5f":function(t,e,i){"use strict";i.r(e);var n=i("12bb"),a=i("0f59");for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);i("b9c9");var r,o=i("f0c5"),d=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"0f9dd7df",null,!1,n["a"],r);e["default"]=d.exports},b9c9:function(t,e,i){"use strict";var n=i("403a"),a=i.n(n);a.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/dc-calendar/dc-calendar-create-component',
    {
        'components/dc-calendar/dc-calendar-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("5a5f"))
        })
    },
    [['components/dc-calendar/dc-calendar-create-component']]
]);
