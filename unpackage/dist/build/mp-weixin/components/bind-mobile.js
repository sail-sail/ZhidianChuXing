(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/bind-mobile"],{"157f":function(t,e,n){"use strict";var i=n("1a29"),o=n.n(i);o.a},"1a29":function(t,e,n){},"1c81":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return i}));var i={uniPopup:function(){return n.e("components/uni-popup/uni-popup").then(n.bind(null,"16da"))}},o=function(){var t=this,e=t.$createElement;t._self._c},u=[]},3805:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"bind-mobile",data:function(){return{isSub:!1}},methods:{open:function(){this.$refs.bindMobile.open()},cancel:function(){this.$refs.bindMobile.close()},mobileAuthLogin:function(t){var e=this;"getPhoneNumber:ok"==t.detail.errMsg&&this.getCode((function(n){n&&e.nextLogin(n,t)}))},nextLogin:function(e,n){var i=this,o={code:e,iv:n.detail.iv,encryptedData:n.detail.encryptedData};t.getStorageSync("saleid")&&(o.invite_id=t.getStorageSync("saleid")),this.isSub||(this.isSub=!0,this.$api.sendRequest({url:"/addons/shop/api.login/getWechatMobile",data:o,success:function(e){1==e.code?(t.setStorage({key:"token",data:e.data.token,success:function(){t.removeStorageSync("authInfo"),t.removeStorageSync("is_new"),i.getMemberInfo()}}),i.$store.commit("setToken",e.data.token),i.$refs.bindMobile.close(),t.navigateBack({delta:1})):(i.isSub=!1,i.$util.showToast({title:e.message}))},fail:function(t){i.isSub=!1,i.$util.showToast({title:"request:fail"})}}))},getCode:function(e){var n=this;t.login({provider:"weixin",timeout:3e3,success:function(t){t.code&&"function"==typeof e&&e(t.code)},fail:function(){n.$util.showToast({title:"请求失败"})}})},getMemberInfo:function(){this.$api.sendRequest({url:"/api/index.user/userInfo",data:{},success:function(e){e.code>=1&&t.setStorageSync("userInfo",e.data)}})}}};e.default=n}).call(this,n("543d")["default"])},ad31:function(t,e,n){"use strict";var i=n("f462"),o=n.n(i);o.a},b4b2:function(t,e,n){"use strict";n.r(e);var i=n("1c81"),o=n("d14d");for(var u in o)"default"!==u&&function(t){n.d(e,t,(function(){return o[t]}))}(u);n("ad31"),n("157f");var a,c=n("f0c5"),s=Object(c["a"])(o["default"],i["b"],i["c"],!1,null,"561c029f",null,!1,i["a"],a);e["default"]=s.exports},d14d:function(t,e,n){"use strict";n.r(e);var i=n("3805"),o=n.n(i);for(var u in i)"default"!==u&&function(t){n.d(e,t,(function(){return i[t]}))}(u);e["default"]=o.a},f462:function(t,e,n){}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/bind-mobile-create-component',
    {
        'components/bind-mobile-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("b4b2"))
        })
    },
    [['components/bind-mobile-create-component']]
]);
