(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/order/order"],{"1c3e":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=function(){n.e("components/diy-bottom-nav/diy-bottom-nav").then(function(){return resolve(n("4379"))}.bind(null,n)).catch(n.oe)},i=function(){n.e("components/zu-pop/zu-pop").then(function(){return resolve(n("f486"))}.bind(null,n)).catch(n.oe)},a=function(){n.e("components/change-car/change-car").then(function(){return resolve(n("50e4"))}.bind(null,n)).catch(n.oe)},r={components:{changeCar:a,zuPop:i,diyBottomNav:o},data:function(){return{show:!1,showZu:!1,tabsIndex:0,tabs:[{name:"全部"},{name:"待付款"},{name:"候补中"},{name:"待取车"},{name:"租赁中"},{name:"已完成"}],list:[],car_id:0,stock:0,page:1,pageSize:15,total:1,storeInfo:""}},onLoad:function(e){this.tabsIndex=e.tabsIndex||0,console.log("888",this.tabsIndex),t.getStorageSync("storeInfo")&&(this.storeInfo=t.getStorageSync("storeInfo")),t.hideTabBar()},onShow:function(){t.getStorageSync("token")&&this.getOrderList(!0)},onReachBottom:function(){this.page>=this.total||(this.page++,this.getOrderList())},methods:{clickTab:function(t){this.tabsIndex=t.index,this.getOrderList(!0)},openShow:function(t){this.car_id=t,this.show=!0},close:function(){this.show=!1,this.cancelOrder(this.car_id)},confirm:function(){this.show=!1,this.$util.redirectTo("/pages/category/category")},openXuZu:function(t){this.car_id=t.id,this.stock=t.stock,this.showZu=!0},payXuzu:function(t){this.$util.redirectTo("/otherpages/payOrder/payOrder?money="+t.xuzu.money+"&order_sn="+t.xuzu.order_sn+"&is_xuzu=1")},goDestination:function(e){var n="",o="",i="";"自助取还"==e.songhuan_type?(n=this.storeInfo.latitude,o=this.storeInfo.longitude,i=this.storeInfo.address):(n=e.lat,o=e.long,i=e.address),t.openLocation({latitude:parseFloat(n),longitude:parseFloat(o),address:i,success:function(){console.log("导航成功")}})},closeZu:function(){this.showZu=!1},confirmZu:function(){this.showZu=!1,0==this.stock?this.$util.redirectTo("/pages/category/category"):this.$util.redirectTo("/otherpages/order_xuzu/order_xuzu?id="+this.car_id)},cancelOrder:function(t){this.$util.redirectTo("/otherpages/cancelOrder/cancelOrder?id="+t),this.tabsIndex=0},goOrderDetail:function(t){this.$util.redirectTo("/pages/orderDetail/orderDetail?id="+t)},getOrderList:function(t){var e=this;t&&(this.page=1),this.$api.sendRequest({url:"/api/car/Order/myorder",data:{page:this.page,limit:this.pageSize,status:"全部"==this.tabs[this.tabsIndex].name?"":this.tabs[this.tabsIndex].name},success:function(t){1==t.code?(1==e.page?e.list=t.data.data:e.list=e.list.concat(t.data.data),e.total=t.data.last_page):e.$util.showToast({title:t.msg})}})}}};e.default=r}).call(this,n("543d")["default"])},2610:function(t,e,n){"use strict";var o=n("8817"),i=n.n(o);i.a},"440c":function(t,e,n){"use strict";n.r(e);var o=n("76ff"),i=n("f23a");for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);n("2610");var r,s=n("f0c5"),c=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,"76bb3059",null,!1,o["a"],r);e["default"]=c.exports},"76ff":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return o}));var o={uSticky:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-sticky/u-sticky")]).then(n.bind(null,"fafc"))},uTabs:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-tabs/u-tabs")]).then(n.bind(null,"c2bd"))},uEmpty:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-empty/u-empty")]).then(n.bind(null,"3346"))},diyBottomNav:function(){return n.e("components/diy-bottom-nav/diy-bottom-nav").then(n.bind(null,"4379"))},changeCar:function(){return n.e("components/change-car/change-car").then(n.bind(null,"50e4"))},zuPop:function(){return n.e("components/zu-pop/zu-pop").then(n.bind(null,"f486"))}},i=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){return e.stopPropagation(),t.$util.redirectTo("/pages/category/category")})},a=[]},8817:function(t,e,n){},ac16:function(t,e,n){"use strict";(function(t){n("1cde");o(n("66fd"));var e=o(n("440c"));function o(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("543d")["createPage"])},f23a:function(t,e,n){"use strict";n.r(e);var o=n("1c3e"),i=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);e["default"]=i.a}},[["ac16","common/runtime","common/vendor"]]]);